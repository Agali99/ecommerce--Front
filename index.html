<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Home</title>
    <link rel="stylesheet" type="text/css" href="styles/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="styles/index-style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <header class="py-3 mb-3 border-bottom bg-light">
      <div class="container-fluid d-grid gap-3 align-items-center" style="grid-template-columns: 1fr 2fr;">
        <div class="">
          <a href="./index.html" class="">
            <img src="./img/logo-icon.png" width="60" alt="">
          </a>
        </div>

        <div class="d-flex align-items-center">
          <form class="w-100 me-3">
            <input type="search" class="form-control" placeholder="Search..." aria-label="Search">
          </form>
          <div class="d-flex">
            <a href="./login.html" class="btn btn-light border m-1">Giriş</a>
            <a href="./customer_registration.html" class="btn btn-light border m-1">Müştəri qeydiyyatı</a>
            <a href="./seller_registration.html" class="btn btn-light border m-1">Satıcı qeydiyyatı</a>
            <a href="./user_profile.html" class="d-flex align-items-center col-lg-4 mb-2 mb-lg-0 link-dark text-decoration-none">
              <img src="./img/profile-icon.png" class="border border-primary rounded-circle" width="60" alt="">
            </a>
          </div>
        </div>
      </div>
    </header>

    <div class="container">
      
      <div class="row">

        <div class="col-2 border-1">
          
          <div class="row mb-2" style="font-size: x-large;">
            <p>Kateqoriyalar</p>
          </div>
          <div class="row">
            <ul>
              <li>Elektronika
                <ul>
                  <li><a href="">Kompüterlər</a></li>
                  <li><a href="">Printerlər</a></li>
                  <li><a href="">Məişət əşyaları</a></li>
                </ul>
              </li>
              <li>Paltar
                <ul>
                  <li><a href="">Kişi</a></li>
                  <li><a href="">Qadın</a></li>
                </ul>
              </li>
              <li>Alətlər
                <ul>
                  <li><a href="">Mətbəx üçün</a></li>
                  <li><a href="">Bağ üçün</a></li>
                </ul>
              </li>
            </ul>
          </div>

        </div>
        <div class="col-10 p-2" id="product-list">
          
          <div class="row border mb-2 p-4">
            <div class="col-2">
              <img src="./img/laptop.png" style="height: 200px;" alt="">
            </div>
            <div class="col-1"></div>
            <div class="col-9">
              <p class="product-name" style="font-weight: bold; font-size: x-large">HP Laptop L510 Ultra Thin Laptop</p>
              <p class="product-details" style="font-size: large">15.6” FHD Display, Intel Celeron N4020 Processor, 4GB RAM, 128GB Storage, Windows 10 Home in S Mode, 1 Year Microsoft 365, Star Black, L510MA-DS04 </p>
              <p style="font-size: larger; color: #4287f5">500$</p>
            </div>
          </div>

          <div class="row border mb-2 p-4">
            <div class="col-2">
              <img src="./img/acer.png" style="width: 200px;" alt="">
            </div>
            <div class="col-1"></div>
            <div class="col-9">
              <p class="product-name" style="font-weight: bold; font-size: x-large">Acer Laptop L510 Ultra Thin Laptop</p>
              <p class="product-details" style="font-size: large">15.6” FHD Display, Intel Core i7 N4020 Processor, 4GB RAM, 128GB Storage, Windows 10 Home in S Mode, 1 Year Microsoft 365, Star Black, L510MA-DS04 </p>
              <p style="font-size: larger; color: #4287f5">500$</p>
            </div>
          </div>

        </div>

      </div>

    </div>

    <script type="text/javascript" src="./js/constants.js"></script> 

    <script src="./styles/bootstrap/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <script>

      document.addEventListener("DOMContentLoaded", function(){
         
        var url = ipAddress.ip+'/api/product';
        var productList = document.getElementById("product-list");

        $.ajax({
        type: 'GET',
        url: url,
        dataType:'json',
        success:function(data, textStatus, jqXHR){
          console.log(data);
          $.each(data, function(index, item){
            // $.each(item, function(key, value){
              $('#product-list').append(
                `
                <div class="row border mb-2 p-4">
                  <div class="col-2">
                    <img src="https://oldnavy.gap.com/Asset_Archive/ONWeb/content/0028/281/550/assets/211225_52-M6099_B_DP_PJs.jpg" style="height: 200px;" alt="">
                  </div>
                  <div class="col-1"></div>
                  <div class="col-9">
                    <p id=`+item["id"]+`" class="product-name" style="font-weight: bold; font-size: x-large">`+ item["name"] +`</p>
                    <p class="product-details" style="font-size: large">` + item["details"] + ` </p>
                    <p style="font-size: larger; color: #4287f5">` + item["cost"] + `$</p>
                  </div>
                </div>
                `
              );
            // });
          });
        },
        error: function (XMLHttpRequest, textStatus, errorThrown){
          console.log("Yükləyə bilmədi")
        }
      });

      });

    </script>

  </body>
</html>
